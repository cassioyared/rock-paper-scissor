<script>


// create a function called getComputerChoice
function getComputerChoice() {

    randomNumber=Math.floor(10*(Math.random())); // random number between 0 and 10, rounded down

    if (randomNumber<=3) {
        computerChoice="rock";
    } else if (randomNumber>3 && randomNumber<=6) {
        computerChoice="paper";
    } else {
        computerChoice="scissors";
    }
    return computerChoice;
}



// function that plays a single round of the game
// take playerSelection and computerSelection as parameters
// return a string that declares the winner of the round

function playRound(playerSelection, computerSelection) {

    playerSelection=playerSelection.trim();
    playerSelection=playerSelection.toLowerCase();

    if (playerSelection != "rock" && playerSelection!="paper" && playerSelection!="scissors") {
        message="Player input not valid";
        return message;
    }

    if (playerSelection === computerSelection) {
        message="TIE! Play again!";
        return message;
    }

    if (playerSelection==="rock" && computerSelection==="scissors") {
        message="You win! Perfect!";
        return message;
    }

    if (playerSelection==="rock" && computerSelection==="paper") {
        message="You lose!";
        return message;
    }

    if (playerSelection==="paper" && computerSelection==="rock") {
        message="You win! Perfect!";
        return message;
    }

    if (playerSelection==="paper" && computerSelection==="scissors") {
        message="You lose!";
        return message;
    }

    if (playerSelection==="scissors" && computerSelection==="paper") {
        message="You win! Perfect!";
        return message;
    }

    if (playerSelection==="scissors" && computerSelection==="rock") {
        message="You lose!";
        return message;
    }
}


// Function to play a 5 round game that keeps score and reports a winner or loser at the end
// use prompt() to get input from the user
// turn user input all lower case
// check if user input is a valid choice
// play round 1
// update score
// display round results and updated score
// ...
// play round 5 
// update score
// display round results and updated score
// report winner / loser based on score at the end

function game() {
    playerScore=0;
    computerScore=0;
    
    for (let i=1; i <=5; i++) {
        playerSelection=prompt("Rock? Paper? Scissors? Choose your destiny!");
        computerSelection=getComputerChoice();

        round=playRound(playerSelection, computerSelection);
        if (round === "You win! Perfect!") {
            playerScore=playerScore+1;
        }
    
        if (round === "You lose!") {
            computerScore=computerScore+1;
        }

        if (round === "TIE! Play again!") {
            playerScore=playerScore+1;
            computerScore=computerScore+1;
        }

        if (round === "Player input not valid") {
            console.log(round, "Try again");
            return;
        }
        console.log("Round ", i, ": ", "Player: ", playerSelection, "Computer: ", computerSelection, "Round result: ", round);
        console.log("Updated score: ", "Player: ", playerScore, "Computer: ", computerScore);        
    }

    if (playerScore === computerScore) {
        result="TIE!";
        console.log("Final result: ", result);
    }

    if (playerScore > computerScore) {
        result="You win! Perfect";
        console.log("Final result: ", result);
    }

    if (playerScore < computerScore) {
        result="You lose!";
        console.log("Final result: ", result);
    }
}


/////

game();



</script>
